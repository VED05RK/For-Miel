<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For You ğŸ’–</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
    body {
        font-family: 'Poppins', sans-serif;
        background: linear-gradient(135deg, #ffb6c1, #ffe4ec);
        text-align: center;
        padding: 40px;
        margin: 0;
        overflow-x: hidden;
    }

    h1 { color: #ff2f68; }
    h2, p { color: #6b0030; }

    button {
        padding: 15px 30px;
        font-size: 18px;
        border: none;
        border-radius: 20px;
        cursor: pointer;
        margin: 10px;
        background: #ff4d8d;
        color: white;
        box-shadow: 0 8px 15px rgba(0,0,0,0.15);
        transition: transform 0.2s;
    }

    button:hover { transform: scale(1.05); }

    #noBtn { background: gray; }

    span {
        font-size: 40px;
        cursor: pointer;
        margin: 10px;
        display: inline-block;
    }

    .float {
        position: fixed;
        font-size: 30px;
        animation: floatUp 10s linear infinite;
        opacity: 0.8;
    }

    @keyframes floatUp {
        from { transform: translateY(100vh); }
        to { transform: translateY(-10vh); }
    }

    .chatBox {
        max-width: 520px;
        margin: auto;
        background: #fff0f6;
        padding: 20px;
        border-radius: 20px;
        text-align: left;
    }

    .msg { margin: 8px 0; }
    .you { color: #ff2f68; }
    .her { color: #6b0030; }

    input {
        width: 95%;
        padding: 12px;
        border-radius: 15px;
        border: 1px solid #ccc;
        margin-top: 10px;
    }
</style>
</head>
<body>

<!-- Floating decorations -->
<div class="float" style="left:10%;">ğŸŒ¸</div>
<div class="float" style="left:30%; animation-duration:8s;">ğŸ±</div>
<div class="float" style="left:50%; animation-duration:11s;">ğŸ’–</div>
<div class="float" style="left:70%; animation-duration:9s;">ğŸŒ·</div>
<div class="float" style="left:90%; animation-duration:12s;">ğŸ±</div>

<div id="page"></div>

<script>
let stage = sessionStorage.getItem("stage") || "question";
let yesSize = 20;
let hearts = Number(sessionStorage.getItem("hearts")) || 0;

/* CHAT DATA */
let chatStep = Number(sessionStorage.getItem("chatStep")) || 0;
let chatLog = JSON.parse(sessionStorage.getItem("chatLog")) || [];

const chatQuestions = [
    "Hi mylove ğŸ˜™",
    "Can I ask you something? ğŸ’–",
    "How was your day today? ğŸ˜Š",
    "Do you know how special you are to me? ğŸŒ¸",
    "Special child jwk hahaha, Will you be my Valentine? ğŸ’•"
];

function render() {
    const page = document.getElementById("page");

    /* QUESTION */
    if (stage === "question") {
        page.innerHTML = `
            <h1>Hi Mylove ğŸŒ¸</h1>
            <p>ğŸ±ğŸŒ¸ğŸ±ğŸŒ¸ğŸ±</p>
            <h2>Do you want to continue ? ğŸ˜³ğŸ’•</h2>
            <button id="yesBtn" onclick="next('chat')">Yes ğŸ’–</button>
            <button id="noBtn" onclick="growYes()">kiss danay ğŸ˜™ğŸ˜™</button>
        `;
    }

    /* CHAT FIRST */
    if (stage === "chat") {
        let chatHTML = chatLog.map(
            m => `<div class="msg"><b class="${m.from}">
                ${m.from === 'you' ? 'You' : 'Her'}:</b> ${m.text}</div>`
        ).join("");

        page.innerHTML = `
            <h1>ğŸ’¬ Our Chat ğŸ’¬</h1>
            <div class="chatBox">${chatHTML}</div>

            ${
                chatStep < chatQuestions.length
                ? `
                    <p><b class="you">You:</b> ${chatQuestions[chatStep]}</p>
                    <input id="answer" placeholder="Type your answer here...">
                    <button onclick="sendAnswer()">Send ğŸ’Œ</button>
                  `
                : `<button onclick="next('msg1')">Continue â¡ï¸</button>`
            }
        `;
    }

    /* MESSAGES */
    if (stage === "msg1") {
        page.innerHTML = `
            <h1>ğŸŒ¸ Message 1 ğŸŒ¸</h1>
            <p>I made this random cute thing and I hope you like it ğŸ’–<br>
            Syempre IT ta bay hahaha ğŸ˜†</p>
            <button onclick="next('msg2')">Continue â¡ï¸</button>
        `;
    }

    if (stage === "msg2") {
        page.innerHTML = `
            <h1>ğŸ± Message 2 ğŸ±</h1>
            <p>Youâ€™re the prettiest, loving, kind, gorgeousaurus cutiepie
            woman Iâ€™ve ever met ğŸ˜ºğŸ’—</p>
            <button onclick="next('msg3')">Continue â¡ï¸</button>
        `;
    }

    if (stage === "msg3") {
        page.innerHTML = `
            <h1>ğŸ’– Message 3 ğŸ’–</h1>
            <p>Sorry kun gina ragebait taka pirme ğŸ˜†
            part lang sang pagpalangga, I LOVE YOU SO MUCHHğŸ˜˜ğŸŒ¸</p>
            <button onclick="next('quiz')">Continue â¡ï¸</button>
        `;
    }

    /* QUIZ */
    if (stage === "quiz") {
        page.innerHTML = `
            <h1>ğŸ¯ Mini Quiz ğŸ¯</h1>
            <p>What do I like the most? ğŸ¤”</p>
            <button onclick="quizAnswer()">ğŸ’» Coding</button>
            <button onclick="quizAnswer()">ğŸ• Food</button>
            <button onclick="quizAnswer()">ğŸ’– Si Miel</button>
            <p id="quizResult"></p>
        `;
    }

    /* GAME */
    if (stage === "game") {
        page.innerHTML = `
            <h1>ğŸ’– Collect My Love ğŸ’–</h1>
            <p>Click all the hearts ğŸ’•</p>
            <div>
                <span onclick="collect(this)">ğŸ’–</span>
                <span onclick="collect(this)">ğŸ’–</span>
                <span onclick="collect(this)">ğŸ’–</span>
                <span onclick="collect(this)">ğŸ’–</span>
                <span onclick="collect(this)">ğŸ’–</span>
            </div>
            <p id="score">Hearts collected: ${hearts}</p>
            <h2 id="final" style="display:none;">
                You collected all my love grabe may galaw ğŸ’<br>
                You are officially my Valentine HeheğŸ˜™ğŸ˜™ğŸ’•
            </h2>
        `;
    }
}

function growYes() {
    yesSize += 20;
    const yes = document.getElementById("yesBtn");
    yes.style.fontSize = yesSize + "px";
    yes.style.padding = yesSize + "px";

    if (yesSize > window.innerWidth / 2) {
        yes.style.width = "100vw";
        yes.style.height = "100vh";
        yes.innerText = "YES ğŸ’–";
        document.getElementById("noBtn").style.display = "none";
    }
}

function sendAnswer() {
    const input = document.getElementById("answer");
    if (!input.value) return;

    chatLog.push({ from: "her", text: input.value });
    sessionStorage.setItem("chatLog", JSON.stringify(chatLog));

    chatStep++;
    sessionStorage.setItem("chatStep", chatStep);
    render();
}

function quizAnswer() {
    document.getElementById("quizResult").innerHTML = `
        <b>Oo weh ğŸ˜ŒğŸ’–</b><br>
        Syempre si Miel sya lang lovelove ko ehhâ¤ï¸â¤ï¸!<br><br>
        <button onclick="next('game')">Play Game ğŸ®</button>
    `;
}

function collect(el) {
    el.style.display = "none";
    hearts++;
    sessionStorage.setItem("hearts", hearts);
    document.getElementById("score").innerText =
        "Hearts collected: " + hearts;

    if (hearts === 5) {
        document.getElementById("final").style.display = "block";
    }
}

function next(s) {
    stage = s;
    sessionStorage.setItem("stage", stage);
    location.reload();
}

render();
</script>

</body>
</html>
